###############################################
# cmake configuration file for MarlinUtil
# @author Jan Engels, DESY
###############################################

SET( MarlinUtil_FOUND FALSE )
MARK_AS_ADVANCED( MarlinUtil_FOUND )

# do not store find results in cache
SET( MarlinUtil_INCLUDE_DIR MarlinUtil_INCLUDE_DIR-NOTFOUND )

FIND_PATH( MarlinUtil_INCLUDE_DIR
	NAMES MarlinUtil.h
	PATHS @CMAKE_INSTALL_PREFIX@
	PATH_SUFFIXES include
	NO_DEFAULT_PATH
)
IF( NOT MarlinUtil_INCLUDE_DIR )
    MESSAGE( STATUS "Check for MarlinUtil: ${MarlinUtil_HOME}"
					" -- failed to find MarlinUtil include directory!!" )
ELSE( NOT MarlinUtil_INCLUDE_DIR )
    MARK_AS_ADVANCED( MarlinUtil_INCLUDE_DIR )
ENDIF( NOT MarlinUtil_INCLUDE_DIR )

# MarlinCED.h needs ced_cli.h
FIND_PATH( CED_INCLUDE_DIR
	NAMES ced_cli.h
    PATHS @CED_HOME@
	PATH_SUFFIXES include
	NO_DEFAULT_PATH
)
IF( NOT CED_INCLUDE_DIR )
    MESSAGE( STATUS "Check for MarlinUtil: failed to find CED include directory!!" )
ELSE( NOT CED_INCLUDE_DIR )
    MARK_AS_ADVANCED( CED_INCLUDE_DIR )
ENDIF( NOT CED_INCLUDE_DIR )

# do not store find results in cache
SET( MarlinUtil_LIB MarlinUtil_LIB-NOTFOUND )

FIND_LIBRARY( MarlinUtil_LIB
	NAMES MarlinUtil
	PATHS @CMAKE_INSTALL_PREFIX@
	PATH_SUFFIXES lib
	NO_DEFAULT_PATH
)
IF( NOT MarlinUtil_LIB )
    MESSAGE( STATUS "Check for MarlinUtil: ${MarlinUtil_HOME}"
					" -- failed to find MarlinUtil library!!" )
ELSE( NOT MarlinUtil_LIB )
    MARK_AS_ADVANCED( MarlinUtil_LIB )
ENDIF( NOT MarlinUtil_LIB )


# set variables and display results
IF( MarlinUtil_INCLUDE_DIR AND MarlinUtil_LIB AND CED_INCLUDE_DIR )
    SET( MarlinUtil_FOUND TRUE )
    SET( MarlinUtil_INCLUDE_DIRS ${MarlinUtil_INCLUDE_DIR} ${CED_INCLUDE_DIR} )
	SET( MarlinUtil_LIBRARIES ${MarlinUtil_LIB} )
	MARK_AS_ADVANCED( MarlinUtil_INCLUDE_DIRS MarlinUtil_LIBRARIES )
	MESSAGE( STATUS "Check for MarlinUtil: ${MarlinUtil_HOME} -- works" )
ELSE( MarlinUtil_INCLUDE_DIR AND MarlinUtil_LIB )
	IF( MarlinUtil_FIND_REQUIRED )
		MESSAGE( FATAL_ERROR "Check for MarlinUtil: ${MarlinUtil_HOME} -- failed!!" )
    ELSE( MarlinUtil_FIND_REQUIRED )
        MESSAGE( STATUS "Check for MarlinUtil: ${MarlinUtil_HOME}"
						" -- failed!! will skip this package..." )
    ENDIF( MarlinUtil_FIND_REQUIRED )
ENDIF( MarlinUtil_INCLUDE_DIR AND MarlinUtil_LIB AND CED_INCLUDE_DIR )
